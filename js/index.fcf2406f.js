(function(e){function t(t){for(var r,a,u=t[0],i=t[1],s=t[2],d=0,p=[];d<u.length;d++)a=u[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);l&&l(t);while(p.length)p.shift()();return c.push.apply(c,s||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,u=1;u<n.length;u++){var i=n[u];0!==o[i]&&(r=!1)}r&&(c.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={index:0},c=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/dad-code/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],i=u.push.bind(u);u.push=t,u=u.slice();for(var s=0;s<u.length;s++)t(u[s]);var l=i;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),o=Object(r["g"])("header",null,[Object(r["g"])("h1",null,"Welcome To Daddy")],-1),c={class:"nav-tabs-container"},a=Object(r["f"])("Today's Joke"),u=Object(r["f"])("My Jokes"),i=Object(r["g"])("footer",null,[Object(r["g"])("h6",null,"Coffeerights Â© All Right reserved to DAADDDYYYYYY")],-1);function s(e,t,n,s,l,d){var p=Object(r["w"])("router-link"),f=Object(r["w"])("router-view");return Object(r["p"])(),Object(r["d"])(r["a"],null,[o,Object(r["g"])("main",null,[Object(r["g"])("section",c,[Object(r["g"])(p,{to:{name:"curr-joke"}},{default:Object(r["B"])((function(){return[a]})),_:1}),Object(r["g"])(p,{to:{name:"joke-list"}},{default:Object(r["B"])((function(){return[u]})),_:1})]),Object(r["g"])(f)]),i],64)}var l={name:"App"};l.render=s;var d=l,p=n("6c02"),f=Object(r["C"])("data-v-4b05f726");Object(r["s"])("data-v-4b05f726");var b={class:"joke-details-container"},j=Object(r["g"])("h1",{class:"title"},"You have been given a gift:",-1);Object(r["q"])();var g=f((function(e,t,n,o,c,a){var u=Object(r["w"])("Loader");return Object(r["p"])(),Object(r["d"])("section",b,[j,c.joke?(Object(r["p"])(),Object(r["d"])(r["a"],{key:0},[Object(r["g"])("h5",null,Object(r["y"])(c.joke.setup),1),Object(r["g"])("h4",null,Object(r["y"])(c.punchline),1)],64)):(Object(r["p"])(),Object(r["d"])(u,{key:1}))])})),v=(n("96cf"),n("1da1")),h=n("bc3a"),O=n.n(h),k={get:function(e){return Object(v["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,O.a.get(e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()}},m={save:w,load:y,clear:x};function w(e,t){localStorage.setItem(e,JSON.stringify(t))}function y(e){return JSON.parse(localStorage.getItem(e))}function x(){localStorage.clear()}var R="https://us-central1-dadsofunny.cloudfunctions.net/DadJokes",J="dadJokes",S="lastJoke";function D(){return I.apply(this,arguments)}function I(){return I=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=new Date(m.load(S)),!M(t)){e.next=6;break}r=P(),n=r[0],e.next=10;break;case 6:return e.next=8,k.get("".concat(R,"/random/jokes"));case 8:n=e.sent,A(n);case 10:return e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)}))),I.apply(this,arguments)}function P(){var e=[],t=m.load(J);return t&&(e=t),e}function A(e){var t=m.load(J);t||(t=[]),t.unshift(e),m.save(J,t),m.save(S,Date.now())}function M(e){var t=new Date;return e.getDate()==t.getDate()&&e.getMonth()==t.getMonth()&&e.getFullYear()==t.getFullYear()}var Y={getRandomJoke:D,getJokes:P};function _(e,t){return Object(r["p"])(),Object(r["d"])("img",{src:n("6e70"),alt:"loader"},null,8,["src"])}const q={};q.render=_;var E=q,T=n("260b"),B=(n("e71f"),n("741f"),{update:F}),N={apiKey:"AIzaSyB2jgltktu4rIlxs6de7ClxtEKOnmL9hA8",authDomain:"dad-code.firebaseapp.com",projectId:"dad-code",storageBucket:"dad-code.appspot.com",messagingSenderId:"230175800309",appId:"1:230175800309:web:a8ad53cb5c3285ce4fbebc"},C=T["a"].initializeApp(N).firestore(),K="order";function F(e){return L.apply(this,arguments)}function L(){return L=Object(v["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("yovel"!==t){e.next=4;break}Q(),e.next=6;break;case 4:return e.next=6,C.collection(K).doc(t).update({used:!0,date:new Date});case 6:case"end":return e.stop()}}),e)}))),L.apply(this,arguments)}function Q(){return W.apply(this,arguments)}function W(){return W=Object(v["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=m.load("token"),e.next=3,C.collection("notifications").doc("yovel").update({token:t,msg:"A New Dinner is Requested"});case 3:case"end":return e.stop()}}),e)}))),W.apply(this,arguments)}(function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=T["a"].messaging(),e.prev=1,e.next=4,t.requestPermission();case 4:return e.next=6,t.getToken({vapidKey:"BEQE7pCH1h1pv8JWa84RZ322EioYlEQXGKeOdQBPgS6GQrx89SRqImvblAtUjXvY3K3TgEcDO5SM7_bqMfwwyNg"});case 6:n=e.sent,console.log("tokehn",n),m.save("token",n),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](1),console.log("no permissions",e.t0);case 14:t.onMessage((function(e){console.log("onMessage:",e)}));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));function t(){return e.apply(this,arguments)}return t})()();var z={components:{Loader:E},data:function(){return{joke:null,punchline:".",dotTime:1e3}},created:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.orderId&&B.update(e.orderId),t.next=3,Y.getRandomJoke();case 3:e.joke=t.sent,e.holdPunchline();case 5:case"end":return t.stop()}}),t)})))()},methods:{holdPunchline:function(){var e=this,t=1,n=setInterval((function(){if(e.punchline+=".",3===t)return e.punchline=e.joke.punchline,clearInterval(n);t++}),this.dotTime)}},computed:{orderId:function(){return this.$route.query.id}},unmounted:function(){this.joke=null}};n("ca3a");z.render=g,z.__scopeId="data-v-4b05f726";var G=z;function X(e,t,n,o,c,a){var u=Object(r["w"])("JokePreview");return c.jokes?(Object(r["p"])(!0),Object(r["d"])(r["a"],{key:0},Object(r["v"])(c.jokes,(function(e){return Object(r["p"])(),Object(r["d"])(u,{joke:e,key:e.id},null,8,["joke"])})),128)):Object(r["e"])("",!0)}var H={key:0,class:"joke-preview-container"};function U(e,t,n,o,c,a){return n.joke?(Object(r["p"])(),Object(r["d"])("section",H,[Object(r["g"])("h5",null,Object(r["y"])(n.joke.setup),1),Object(r["g"])("h4",null,Object(r["y"])(n.joke.punchline),1)])):Object(r["e"])("",!0)}var Z={props:{joke:{type:Object,required:!0}}};Z.render=U;var $=Z,V={data:function(){return{jokes:null}},created:function(){this.jokes=Y.getJokes()},components:{JokePreview:$}};V.render=X;var ee,te=V,ne=[{path:"/:id?",name:"curr-joke",component:G},{path:"/joke-list",name:"joke-list",component:te}],re=Object(p["a"])({base:"/dad-code/",history:Object(p["b"])("/dad-code/"),routes:ne}),oe=re,ce=(n("8e1f"),n("9483"));Object(ce["a"])("".concat("/dad-code/","sw.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),navigator.serviceWorker.addEventListener("controllerchange",(function(){ee||(window.location.reload(),ee=!0)})),Object(r["c"])(d).use(oe).mount("#app")},"6e70":function(e,t,n){e.exports=n.p+"img/loader.be631909.svg"},"8e1f":function(e,t,n){},"8f4e":function(e,t,n){},ca3a:function(e,t,n){"use strict";n("8f4e")}});
//# sourceMappingURL=index.fcf2406f.js.map